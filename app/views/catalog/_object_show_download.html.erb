
<% if generic_file.audio? %>
    <% surrogate_type_name = "mp3" %>
<% elsif generic_file.video? %>
    <% surrogate_type_name = "webm" %>
<% elsif generic_file.pdf? %>
    <% surrogate_type_name = "pdf" %>
<% elsif generic_file.text? %>
    <% surrogate_type_name = "rtf" %>
<% elsif generic_file.image? %>
    <% surrogate_type_name = "full_size_web_format" %>
<% end %>

<% surrogate = surrogate_url(document.id, generic_file.id, surrogate_type_name) %>
<div class="carousel-caption">
  <p>

    <% if surrogate.nil? && !((@document.read_master? && can?(:read, @document.id)) || can?(:edit, @document.id)) %>
      <%= t('dri.views.catalog.links.download_not_available', index: index.ordinalize) %>


    <% elsif can?(:read, @document.id) || can?(:edit, @document.id) %>

      <%= link_to '', :'data-target' => '#dri_download_modal_id', :'data-toggle' => 'modal', :id => "configure_download", :'data-fileid' => generic_file.id do %>
          <%= t('dri.views.catalog.links.download') %>
      <% end %>
    <% end %>

  </p>
</div>


