<% if current_or_guest_user %>
  <%-
  # Note these two forms are pretty similar but for different :methods, classes, and labels.
  # but it was simpler to leave them seperate instead of DRYing them, got confusing trying that.
  # the data-doc-id attribute is used by our JS that converts to a checkbox/label.
  -%>
  <% unless current_or_guest_user.document_is_bookmarked? document.id %>

      
      <%= form_tag( bookmark_path( document ), :method => :put, :class => "bookmark_toggle dri_float_right", "data-doc-id" => document.id, :'data-present' => t('blacklight.search.bookmarks.present'), :'data-absent' => t('blacklight.search.bookmarks.absent'), :'data-inprogress' => t('blacklight.search.bookmarks.inprogress')) do %>
      
      <% end %>
      <span class="dri_bookmark_lable"><%= t('blacklight.bookmarks.add.button', :thing => "Object") %></span>
  		<% else %>

            <span class=""> <%= t('blacklight.bookmarks.add.button', :thing => "Object") %><%= form_tag( bookmark_path( document ), :method => :delete, :class => "bookmark_toggle", "data-doc-id" => document.id, :'data-present' => t('blacklight.search.bookmarks.present'), :'data-absent' => t('blacklight.search.bookmarks.absent'), :'data-inprogress' => t('blacklight.search.bookmarks.inprogress')) do %></span>
            

      <% end %>

  <% end %>
<% else %>
  &nbsp;
<% end %>
